/*! For license information please see 2.0472c5d2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkgutsafe_app=self.webpackChunkgutsafe_app||[]).push([[2],{3268:(e,t,o)=>{o.d(t,{M:()=>r});var n=o(9426),a=o(200),i=o(759);class r{static async shareScanResult(e){const t={type:"scan_result",title:"GutSafe Scan: ".concat(e.foodItem.name),description:this.generateScanDescription(e),data:e,shareUrl:"gutsafe://scan/".concat(e.id)};return this.shareContent(t)}static async shareSafeFood(e){const t={type:"safe_food",title:"My Safe Food: ".concat(e.foodItem.name),description:this.generateSafeFoodDescription(e),data:e,shareUrl:"gutsafe://safe-food/".concat(e.id)};return this.shareContent(t)}static async shareGutHealthReport(e){const t={type:"gut_report",title:"My Gut Health Report",description:"Check out my gut health insights from GutSafe!",data:e,shareUrl:"gutsafe://report"};return this.shareContent(t)}static async shareToSocialMedia(e,t){const o=this.generateSocialMediaText(e);switch(t){case"instagram":return this.shareToInstagram(o,e);case"twitter":return this.shareToTwitter(o,e);case"facebook":return this.shareToFacebook(o,e);default:throw new Error("Unsupported social media platform")}}static async shareContent(e){try{const t={message:"".concat(e.title,"\n\n").concat(e.description,"\n\n").concat(e.shareUrl),url:e.shareUrl,title:e.title},o=await i.A.share(t);if(o.action===i.A.sharedAction)return console.log("Content shared successfully"),{success:!0,action:o.action};if(o.action===i.A.dismissedAction)return console.log("Share dismissed"),{success:!1,action:o.action}}catch(t){return console.error("Error sharing content:",t),n.A.alert("Error","Failed to share content. Please try again."),{success:!1,error:t}}}static generateScanDescription(e){const{analysis:t}=e,o=this.getResultEmoji(t.overallSafety);let n="".concat(o," ").concat(t.overallSafety.toUpperCase(),"\n");return n+="Source: ".concat(t.dataSource,"\n\n"),t.flaggedIngredients.length>0&&(n+="\u26a0\ufe0f Flagged ingredients:\n",t.flaggedIngredients.forEach(e=>{n+="\u2022 ".concat(e.ingredient," (").concat(e.severity,")\n")}),n+="\n"),t.safeAlternatives.length>0&&(n+="\u2705 Safe alternatives:\n",t.safeAlternatives.slice(0,3).forEach(e=>{n+="\u2022 ".concat(e,"\n")})),n}static generateSafeFoodDescription(e){const{foodItem:t}=e;let o="\u2705 Safe for my gut health!\n\n";return o+="Used ".concat(e.usageCount," times\n"),o+="Last used: ".concat(this.formatDate(e.lastUsed),"\n"),o+="Source: ".concat(t.dataSource,"\n\n"),t.fodmapLevel&&(o+="FODMAP Level: ".concat(t.fodmapLevel,"\n")),t.histamineLevel&&(o+="Histamine Level: ".concat(t.histamineLevel,"\n")),t.glutenFree&&(o+="Gluten Free: Yes\n"),t.lactoseFree&&(o+="Lactose Free: Yes\n"),e.notes&&(o+="\nNotes: ".concat(e.notes)),o}static generateSocialMediaText(e){const t="#GutSafe #GutHealth #FoodSafety #HealthyEating";switch(e.type){case"scan_result":return"Just scanned ".concat(e.data.foodItem.name," with GutSafe! ").concat(e.description,"\n\n").concat(t);case"safe_food":return"Added ".concat(e.data.foodItem.name," to my safe foods! ").concat(e.description,"\n\n").concat(t);case"gut_report":return"Check out my gut health insights! ".concat(e.description,"\n\n").concat(t);default:return"".concat(e.title,"\n\n").concat(e.description,"\n\n").concat(t)}}static async shareToInstagram(e,t){const o={message:e,url:t.shareUrl};try{await i.A.share(o)}catch(a){console.error("Error sharing to Instagram:",a),n.A.alert("Error","Failed to share to Instagram. Please try again.")}}static async shareToTwitter(e,t){const o="https://twitter.com/intent/tweet?text=".concat(encodeURIComponent(e));try{await a.A.canOpenURL(o)?await a.A.openURL(o):await i.A.share({message:e,url:t.shareUrl})}catch(r){console.error("Error sharing to Twitter:",r),n.A.alert("Error","Failed to share to Twitter. Please try again.")}}static async shareToFacebook(e,t){const o="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t.shareUrl||""),"&quote=").concat(encodeURIComponent(e));try{await a.A.canOpenURL(o)?await a.A.openURL(o):await i.A.share({message:e,url:t.shareUrl})}catch(r){console.error("Error sharing to Facebook:",r),n.A.alert("Error","Failed to share to Facebook. Please try again.")}}static getResultEmoji(e){switch(e){case"safe":return"\u2705";case"caution":return"\u26a0\ufe0f";case"avoid":return"\u274c";default:return"\ud83d\udcf1"}}static formatDate(e){if(!e)return"Never";const t=(new Date).getTime()-e.getTime(),o=Math.floor(t/864e5);return 0===o?"Today":1===o?"Yesterday":o<7?"".concat(o," days ago"):o<30?"".concat(Math.floor(o/7)," weeks ago"):"".concat(Math.floor(o/30)," months ago")}static async shareWithOptions(e){n.A.alert("Share Options","Choose how you'd like to share this content:",[{text:"Cancel",style:"cancel"},{text:"General Share",onPress:()=>this.shareContent(e)},{text:"Twitter",onPress:()=>this.shareToSocialMedia(e,"twitter")},{text:"Facebook",onPress:()=>this.shareToSocialMedia(e,"facebook")},{text:"Instagram",onPress:()=>this.shareToSocialMedia(e,"instagram")}])}}},9002:(e,t,o)=>{o.r(t),o.d(t,{default:()=>K});var n=o(9379),a=o(5043),i=o(1081),r=o(9366),s=o(7169),l=o(3523),c=o(7416),d=o(4907),h=o(3692),g=o(8449),m=o(3942),u=o(4459),f=o(1685),y=o(579);const x=e=>{let{data:t,size:o=120,strokeWidth:n=8,showLabel:c=!0,showValue:d=!0,animated:h=!0}=e;const g="dark"===(0,i.A)()?m.J.dark:m.J.light,u=(0,a.useRef)(new r.A.Value(0)).current;return(0,a.useEffect)(()=>{h?r.A.timing(u,{toValue:t.value,duration:1e3,useNativeDriver:!1}).start():u.setValue(t.value)},[t.value,h,u]),(0,y.jsxs)(s.A,{style:S.container,children:[(0,y.jsxs)(s.A,{style:[S.ringContainer,{width:o,height:o}],children:[(0,y.jsx)(s.A,{style:[S.progressCircle,{width:o,height:o,borderRadius:o/2,borderWidth:n,borderColor:g.border,borderTopColor:t.color,transform:[{rotate:"".concat(t.value/100*360,"deg")}]}]}),(0,y.jsxs)(s.A,{style:S.centerContent,children:[d&&(0,y.jsx)(l.A,{style:[S.value,{color:g.text}],children:Math.round(t.value)}),c&&(0,y.jsx)(l.A,{style:[S.unit,{color:g.textSecondary}],children:t.unit})]})]}),(0,y.jsx)(l.A,{style:[S.label,{color:g.text}],children:t.label})]})},p=e=>{let{rings:t,size:o=100,strokeWidth:n=6,layout:a="horizontal"}=e;const r="dark"===(0,i.A)()?m.J.dark:m.J.light,l="horizontal"===a?S.horizontalContainer:"vertical"===a?S.verticalContainer:S.gridContainer;return(0,y.jsx)(s.A,{style:[l,{backgroundColor:r.surface}],children:t.map((e,t)=>(0,y.jsx)(x,{data:e,size:o,strokeWidth:n},e.id))})},S=g.A.create({container:{alignItems:"center",justifyContent:"center"},ringContainer:{position:"relative",alignItems:"center",justifyContent:"center"},progressCircle:{position:"absolute"},centerContent:{alignItems:"center",justifyContent:"center"},value:{fontSize:u.o.fontSize.title2,fontWeight:u.o.fontWeight.bold,lineHeight:u.o.lineHeight.title2},unit:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.medium,marginTop:2},label:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.medium,textAlign:"center",marginTop:f.Kz.sm},horizontalContainer:{flexDirection:"row",justifyContent:"space-around",alignItems:"center",padding:f.Kz.lg},verticalContainer:{flexDirection:"column",alignItems:"center",padding:f.Kz.lg},gridContainer:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-around",padding:f.Kz.lg}});var z=o(7953);const b=e=>{let{data:t,title:o,subtitle:n,color:a=m.J.primary,height:i=200,showInsights:r=!0,showRecommendations:s=!1}=e;return(0,y.jsx)(z.Ay,{height:"200",width:"300",children:(0,y.jsx)(z.wA,{d:"M0 200 L100 100 L200 150 L300 50",stroke:"blue",fill:"none"})})},A=e=>{let{charts:t,height:o=180}=e;const n="dark"===(0,i.A)()?m.J.dark:m.J.light;return(0,y.jsxs)(s.A,{style:[C.multiContainer,{backgroundColor:n.surface}],children:[(0,y.jsx)(l.A,{style:[C.multiTitle,{color:n.text}],children:"Multiple Trends"}),(0,y.jsx)(d.A,{horizontal:!0,showsHorizontalScrollIndicator:!1,children:(0,y.jsx)(s.A,{style:C.chartsRow,children:t.map((e,t)=>(0,y.jsx)(b,{data:e,title:e.title,color:e.color,height:o,showInsights:!1},t))})})]})},w=e=>{let{selectedPeriod:t,onPeriodChange:o}=e;const n="dark"===(0,i.A)()?m.J.dark:m.J.light;return(0,y.jsxs)(s.A,{style:[C.periodSelector,{backgroundColor:n.surface}],children:[(0,y.jsx)(l.A,{style:[C.periodTitle,{color:n.text}],children:"Time Period"}),(0,y.jsx)(s.A,{style:C.periodButtons,children:[{key:"week",label:"Week"},{key:"month",label:"Month"},{key:"quarter",label:"Quarter"},{key:"year",label:"Year"}].map(e=>(0,y.jsx)(c.A,{style:[C.periodButton,{backgroundColor:t===e.key?n.accent:n.background}],onPress:()=>o(e.key),children:(0,y.jsx)(l.A,{style:[C.periodButtonText,{color:t===e.key?m.J.white:n.text}],children:e.label})},e.key))})]})},C=g.A.create({container:{marginHorizontal:f.Kz.lg,marginVertical:f.Kz.sm,borderRadius:16,padding:f.Kz.lg,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:3},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:f.Kz.md},title:{fontSize:u.o.fontSize.title3,fontWeight:u.o.fontWeight.bold,marginBottom:4},subtitle:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.regular},trendIndicator:{alignItems:"center"},trendIcon:{fontSize:20,marginBottom:2},trendText:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.semiBold},chartContainer:{marginBottom:f.Kz.md},chartArea:{flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0,0,0,0.05)",borderRadius:8,padding:f.Kz.lg},chartPlaceholder:{fontSize:u.o.fontSize.h3,marginBottom:f.Kz.sm},chartDescription:{fontSize:u.o.fontSize.body,textAlign:"center",marginBottom:f.Kz.xs},changeText:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.bold},insightsContainer:{marginTop:f.Kz.md},insightsTitle:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.semiBold,marginBottom:f.Kz.sm},insightItem:{flexDirection:"row",alignItems:"flex-start",marginBottom:f.Kz.xs},insightBullet:{fontSize:16,marginRight:f.Kz.sm,marginTop:2},insightText:{flex:1,fontSize:u.o.fontSize.bodySmall,lineHeight:20},recommendationsContainer:{marginTop:f.Kz.md},recommendationsTitle:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.semiBold,marginBottom:f.Kz.sm},recommendationItem:{flexDirection:"row",alignItems:"flex-start",marginBottom:f.Kz.xs},recommendationBullet:{fontSize:16,marginRight:f.Kz.sm,marginTop:2},recommendationText:{flex:1,fontSize:u.o.fontSize.bodySmall,lineHeight:20},multiContainer:{marginHorizontal:f.Kz.lg,marginVertical:f.Kz.sm,borderRadius:16,padding:f.Kz.lg,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:3},multiTitle:{fontSize:u.o.fontSize.title3,fontWeight:u.o.fontWeight.bold,marginBottom:f.Kz.md},chartsRow:{flexDirection:"row",gap:f.Kz.md},periodSelector:{marginHorizontal:f.Kz.lg,marginVertical:f.Kz.sm,borderRadius:16,padding:f.Kz.lg,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:3},periodTitle:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.semiBold,marginBottom:f.Kz.sm},periodButtons:{flexDirection:"row",gap:f.Kz.sm},periodButton:{paddingHorizontal:f.Kz.md,paddingVertical:f.Kz.sm,borderRadius:8},periodButtonText:{fontSize:u.o.fontSize.bodySmall,fontWeight:u.o.fontWeight.semiBold}}),j=e=>{var t,o;let{data:n,maxItems:r=5,showChart:h=!0,showInsights:g=!0}=e;const u="dark"===(0,i.A)()?m.J.dark:m.J.light,[f,x]=(0,a.useState)(null),p=(0,a.useMemo)(()=>[...n].sort((e,t)=>t.totalScans-e.totalScans).slice(0,r),[n,r]),S=e=>{switch(e){case"improving":return"\ud83d\udcc8";case"declining":return"\ud83d\udcc9";case"stable":return"\u27a1\ufe0f";default:return"\ud83d\udcca"}},z=e=>{switch(e){case"improving":return m.J.safe;case"declining":return m.J.avoid;case"stable":return m.J.caution;default:return u.text}},b=e=>{const t=(new Date).getTime()-e.getTime(),o=Math.floor(t/864e5);return 0===o?"Today":1===o?"Yesterday":o<7?"".concat(o," days ago"):o<30?"".concat(Math.floor(o/7)," weeks ago"):"".concat(Math.floor(o/30)," months ago")};return(0,y.jsxs)(s.A,{style:[v.container,{backgroundColor:u.surface}],children:[(0,y.jsx)(l.A,{style:[v.title,{color:u.text}],children:"Food Trend Analysis"}),h&&(0,y.jsxs)(s.A,{style:v.chartContainer,children:[(0,y.jsx)(l.A,{style:[v.chartTitle,{color:u.text}],children:"Top Scanned Foods"}),(0,y.jsx)(s.A,{style:v.chartArea,children:p.map((e,t)=>(0,y.jsxs)(s.A,{style:v.chartBar,children:[(0,y.jsx)(s.A,{style:v.barContainer,children:(0,y.jsx)(s.A,{style:[v.bar,{width:"".concat(e.totalScans/Math.max(...p.map(e=>e.totalScans))*100,"%"),backgroundColor:z(e.trend)}]})}),(0,y.jsx)(l.A,{style:[v.barLabel,{color:u.textSecondary}],children:e.foodName}),(0,y.jsx)(l.A,{style:[v.barValue,{color:u.text}],children:e.totalScans})]},e.foodName))})]}),(0,y.jsx)(d.A,{style:v.foodList,showsVerticalScrollIndicator:!1,children:p.map((e,t)=>{return(0,y.jsxs)(c.A,{style:[v.foodItem,{backgroundColor:u.background},(null===f||void 0===f?void 0:f.foodName)===e.foodName&&v.selectedFoodItem],onPress:()=>x((null===f||void 0===f?void 0:f.foodName)===e.foodName?null:e),children:[(0,y.jsxs)(s.A,{style:v.foodHeader,children:[(0,y.jsx)(l.A,{style:[v.foodName,{color:u.text}],children:e.foodName}),(0,y.jsxs)(s.A,{style:v.trendContainer,children:[(0,y.jsx)(l.A,{style:v.trendIcon,children:S(e.trend)}),(0,y.jsx)(l.A,{style:[v.trendText,{color:z(e.trend)}],children:e.trend})]})]}),(0,y.jsxs)(s.A,{style:v.foodStats,children:[(0,y.jsxs)(s.A,{style:v.statItem,children:[(0,y.jsx)(l.A,{style:[v.statValue,{color:u.text}],children:e.totalScans}),(0,y.jsx)(l.A,{style:[v.statLabel,{color:u.textSecondary}],children:"Total Scans"})]}),(0,y.jsxs)(s.A,{style:v.statItem,children:[(0,y.jsx)(l.A,{style:[v.statValue,{color:m.J.safe}],children:e.safeCount}),(0,y.jsx)(l.A,{style:[v.statLabel,{color:u.textSecondary}],children:"Safe"})]}),(0,y.jsxs)(s.A,{style:v.statItem,children:[(0,y.jsx)(l.A,{style:[v.statValue,{color:m.J.caution}],children:e.cautionCount}),(0,y.jsx)(l.A,{style:[v.statLabel,{color:u.textSecondary}],children:"Caution"})]}),(0,y.jsxs)(s.A,{style:v.statItem,children:[(0,y.jsx)(l.A,{style:[v.statValue,{color:m.J.avoid}],children:e.avoidCount}),(0,y.jsx)(l.A,{style:[v.statLabel,{color:u.textSecondary}],children:"Avoid"})]})]}),(0,y.jsxs)(s.A,{style:v.foodDetails,children:[(0,y.jsxs)(l.A,{style:[v.lastScanned,{color:u.textSecondary}],children:["Last scanned: ",b(e.lastScanned)]}),(0,y.jsxs)(l.A,{style:[v.confidence,{color:(o=e.confidence,o>=.8?m.J.safe:o>=.6?m.J.caution:m.J.avoid)}],children:["Confidence: ",Math.round(100*e.confidence),"%"]})]}),(null===f||void 0===f?void 0:f.foodName)===e.foodName&&(0,y.jsxs)(s.A,{style:v.expandedDetails,children:[(0,y.jsx)(l.A,{style:[v.detailsTitle,{color:u.text}],children:"Detailed Analysis"}),(0,y.jsxs)(l.A,{style:[v.detailsText,{color:u.textSecondary}],children:["This food has been scanned ",e.totalScans," times with a ",Math.round(100*e.confidence),"% confidence level. The trend shows it's ",e.trend," in terms of gut health compatibility."]})]})]},e.foodName);var o})}),g&&(0,y.jsxs)(s.A,{style:v.insightsContainer,children:[(0,y.jsx)(l.A,{style:[v.insightsTitle,{color:u.text}],children:"Key Insights"}),(0,y.jsxs)(s.A,{style:v.insightItem,children:[(0,y.jsx)(l.A,{style:v.insightBullet,children:"\u2022"}),(0,y.jsxs)(l.A,{style:[v.insightText,{color:u.textSecondary}],children:["Most scanned food: ",null===(t=p[0])||void 0===t?void 0:t.foodName," (",null===(o=p[0])||void 0===o?void 0:o.totalScans," times)"]})]}),(0,y.jsxs)(s.A,{style:v.insightItem,children:[(0,y.jsx)(l.A,{style:v.insightBullet,children:"\u2022"}),(0,y.jsxs)(l.A,{style:[v.insightText,{color:u.textSecondary}],children:["Total foods tracked: ",n.length]})]}),(0,y.jsxs)(s.A,{style:v.insightItem,children:[(0,y.jsx)(l.A,{style:v.insightBullet,children:"\u2022"}),(0,y.jsxs)(l.A,{style:[v.insightText,{color:u.textSecondary}],children:["Average confidence: ",Math.round(n.reduce((e,t)=>e+t.confidence,0)/n.length*100),"%"]})]})]})]})},v=g.A.create({container:{marginHorizontal:f.Kz.lg,marginVertical:f.Kz.sm,borderRadius:16,padding:f.Kz.lg,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:3},title:{fontSize:u.o.fontSize.title3,fontWeight:u.o.fontWeight.bold,marginBottom:f.Kz.md},chartContainer:{marginBottom:f.Kz.lg},chartTitle:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.semiBold,marginBottom:f.Kz.sm},chartArea:{gap:f.Kz.sm},chartBar:{flexDirection:"row",alignItems:"center",gap:f.Kz.sm},barContainer:{flex:1,height:20,backgroundColor:"rgba(0,0,0,0.1)",borderRadius:10,overflow:"hidden"},bar:{height:"100%",borderRadius:10},barLabel:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.medium,minWidth:80},barValue:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.bold,minWidth:30,textAlign:"right"},foodList:{maxHeight:300},foodItem:{borderRadius:12,padding:f.Kz.md,marginBottom:f.Kz.sm,borderWidth:1,borderColor:"rgba(0,0,0,0.1)"},selectedFoodItem:{borderColor:m.J.primary,borderWidth:2},foodHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:f.Kz.sm},foodName:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.semiBold,flex:1},trendContainer:{flexDirection:"row",alignItems:"center",gap:f.Kz.xs},trendIcon:{fontSize:16},trendText:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.semiBold,textTransform:"capitalize"},foodStats:{flexDirection:"row",justifyContent:"space-around",marginBottom:f.Kz.sm},statItem:{alignItems:"center"},statValue:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.bold,marginBottom:2},statLabel:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.regular},foodDetails:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},lastScanned:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.regular},confidence:{fontSize:u.o.fontSize.caption,fontWeight:u.o.fontWeight.semiBold},expandedDetails:{marginTop:f.Kz.sm,paddingTop:f.Kz.sm,borderTopWidth:1,borderTopColor:"rgba(0,0,0,0.1)"},detailsTitle:{fontSize:u.o.fontSize.bodySmall,fontWeight:u.o.fontWeight.semiBold,marginBottom:f.Kz.xs},detailsText:{fontSize:u.o.fontSize.bodySmall,fontWeight:u.o.fontWeight.regular,lineHeight:18},insightsContainer:{marginTop:f.Kz.lg,paddingTop:f.Kz.md,borderTopWidth:1,borderTopColor:"rgba(0,0,0,0.1)"},insightsTitle:{fontSize:u.o.fontSize.body,fontWeight:u.o.fontWeight.semiBold,marginBottom:f.Kz.sm},insightItem:{flexDirection:"row",alignItems:"flex-start",marginBottom:f.Kz.xs},insightBullet:{fontSize:16,marginRight:f.Kz.sm,marginTop:2},insightText:{flex:1,fontSize:u.o.fontSize.bodySmall,lineHeight:18}});var T=o(5938),k=o(4796),W=o(3268);const I=g.A.create({container:{flex:1},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingTop:44,paddingHorizontal:f.Kz.lg,paddingBottom:f.Kz.lg,borderBottomWidth:.5,borderBottomColor:"rgba(0, 0, 0, 0.1)"},shareButton:{paddingHorizontal:f.Kz.md,paddingVertical:f.Kz.sm},shareButtonText:{fontSize:17,fontWeight:"600"},title:{fontSize:34,fontWeight:"800",letterSpacing:-.5},subtitle:{fontSize:u.o.fontSize.body,marginTop:4},scrollView:{flex:1},section:{marginHorizontal:f.Kz.lg,marginVertical:f.Kz.sm,borderRadius:16,padding:f.Kz.lg,shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.1,shadowRadius:8,elevation:3},sectionTitle:{fontSize:u.o.fontSize.title3,fontWeight:u.o.fontWeight.bold,marginBottom:f.Kz.md},insightsGrid:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},insightCard:{width:"48%",padding:f.Kz.md,borderRadius:12,alignItems:"center",marginBottom:f.Kz.sm},insightNumber:{fontSize:u.o.fontSize.title1,fontWeight:u.o.fontWeight.bold},insightLabel:{fontSize:u.o.fontSize.caption,marginTop:4,textAlign:"center"},recommendationItem:{flexDirection:"row",alignItems:"flex-start",marginBottom:f.Kz.sm},recommendationBullet:{fontSize:16,marginRight:f.Kz.sm,marginTop:2},recommendationText:{flex:1,fontSize:u.o.fontSize.body,lineHeight:20},bottomSpacing:{height:100}}),K=()=>{const e="dark"===(0,i.A)()?m.J.dark:m.J.light,[t,o]=(0,a.useState)("month"),[g,u]=(0,a.useState)(!1),[f]=(0,a.useState)((()=>{const e=new Date;return{last30Days:Array.from({length:30},(t,o)=>{const n=new Date(e);return n.setDate(n.getDate()-(29-o)),{date:n,overallScore:70+20*Math.random(),safeFoodsCount:Math.floor(10*Math.random())+5,cautionFoodsCount:Math.floor(5*Math.random())+1,avoidFoodsCount:Math.floor(3*Math.random()),symptomsReported:5*Math.random(),energyLevel:5+4*Math.random(),sleepQuality:5+4*Math.random()}}),foodTrends:[{foodName:"Dairy Products",totalScans:25,safeCount:15,cautionCount:7,avoidCount:3,lastScanned:new Date(e.getTime()-1728e5),trend:"improving",confidence:.85},{foodName:"Gluten Foods",totalScans:18,safeCount:5,cautionCount:8,avoidCount:5,lastScanned:new Date(e.getTime()-864e5),trend:"declining",confidence:.72},{foodName:"High FODMAP",totalScans:12,safeCount:3,cautionCount:4,avoidCount:5,lastScanned:new Date(e.getTime()-2592e5),trend:"stable",confidence:.68},{foodName:"Processed Foods",totalScans:20,safeCount:8,cautionCount:9,avoidCount:3,lastScanned:new Date(e.getTime()-864e5),trend:"improving",confidence:.78}]}})()),x=(0,a.useRef)(new r.A.Value(0)).current,S=(0,a.useRef)(new r.A.Value(50)).current,z=(0,a.useRef)(new r.A.Value(.9)).current;(0,a.useEffect)(()=>{k.A.initialize(),r.A.parallel([r.A.timing(x,{toValue:1,duration:800,useNativeDriver:!0}),r.A.timing(S,{toValue:0,duration:800,useNativeDriver:!0}),r.A.spring(z,{toValue:1,useNativeDriver:!0})]).start()},[x,z,S]);const C=(0,a.useMemo)(()=>{const e=f.last30Days[f.last30Days.length-1]||{overallScore:0,safeFoodsCount:0,symptomFrequency:0,scanAccuracy:0,energyLevel:5,sleepQuality:5,stressLevel:5,hydrationLevel:5};return[{id:"gut-health",label:"Gut Health",value:e.overallScore,goal:90,color:m.J.primary,unit:"score"},{id:"safe-foods",label:"Safe Foods",value:e.safeFoodsCount/15*100,goal:100,color:m.J.safe,unit:"foods"},{id:"energy",label:"Energy",value:e.energyLevel/10*100,goal:100,color:m.J.primaryLight,unit:"level"}]},[f.last30Days]),v=(0,a.useMemo)(()=>{var e,o;const n=f.last30Days.map((e,t)=>({x:t+1,y:e.overallScore,label:e.date.toLocaleDateString()})),a=(null===(e=n[0])||void 0===e?void 0:e.y)||0,i=(null===(o=n[n.length-1])||void 0===o?void 0:o.y)||0,r=a>0?(i-a)/a*100:0;return{period:t,trend:r>5?"up":r<-5?"down":"stable",changePercentage:r,dataPoints:n,insights:["Your gut health score has ".concat(r>0?"improved":"declined"," by ").concat(Math.abs(r).toFixed(1),"% this period"),r>0?"Keep up the great work with your dietary choices!":"Consider reviewing foods that may be causing issues"],recommendations:["Continue tracking your food intake daily","Pay attention to foods that consistently cause symptoms","Consider consulting with a nutritionist for personalized advice"]}},[f.last30Days,t]),K=(0,a.useMemo)(()=>{var e,o;const n=f.last30Days.map((e,t)=>({x:t+1,y:e.symptomsReported,label:e.date.toLocaleDateString()})),a=(null===(e=n[0])||void 0===e?void 0:e.y)||0,i=(null===(o=n[n.length-1])||void 0===o?void 0:o.y)||0,r=a>0?(i-a)/a*100:0;return{period:t,trend:r<-5?"up":r>5?"down":"stable",changePercentage:-r,dataPoints:n,insights:["Symptoms have ".concat(r<0?"decreased":"increased"," by ").concat(Math.abs(r).toFixed(1),"% this period"),r<0?"Great job managing your symptoms!":"Consider identifying trigger foods"],recommendations:["Track symptoms alongside food intake","Look for patterns in symptom triggers","Consider keeping a detailed food diary"]}},[f.last30Days,t]),D=[(0,n.A)((0,n.A)({},v),{},{title:"Gut Health Score",color:m.J.primary}),(0,n.A)((0,n.A)({},K),{},{title:"Symptoms",color:m.J.avoid})];return(0,y.jsxs)(s.A,{style:[I.container,{backgroundColor:e.background}],children:[(0,y.jsxs)(s.A,{style:[I.header,{backgroundColor:e.surface}],children:[(0,y.jsxs)(s.A,{children:[(0,y.jsx)(l.A,{style:[I.title,{color:e.text}],children:"Analytics"}),(0,y.jsx)(l.A,{style:[I.subtitle,{color:e.textSecondary}],children:"Track your gut health progress"})]}),(0,y.jsx)(c.A,{onPress:async()=>{var e,o;const n={type:"gut_report",title:"My Gut Health Analytics",description:"Check out my gut health progress! Score: ".concat(Math.round((null===(e=f.last30Days[f.last30Days.length-1])||void 0===e?void 0:e.overallScore)||0),"/100"),data:{score:Math.round((null===(o=f.last30Days[f.last30Days.length-1])||void 0===o?void 0:o.overallScore)||0),improvement:v.changePercentage,period:t},shareUrl:"gutsafe://analytics"};await W.M.shareWithOptions(n)},style:I.shareButton,children:(0,y.jsx)(l.A,{style:[I.shareButtonText,{color:e.accent}],children:"Share"})})]}),(0,y.jsxs)(d.A,{style:I.scrollView,showsVerticalScrollIndicator:!1,refreshControl:(0,y.jsx)(h.A,{refreshing:g,onRefresh:()=>{T.n.buttonPress(),u(!0),setTimeout(()=>{u(!1),T.n.success()},1e3)}}),children:[(0,y.jsxs)(s.A,{style:[I.section,{backgroundColor:e.surface}],children:[(0,y.jsx)(l.A,{style:[I.sectionTitle,{color:e.text}],children:"Today's Progress"}),(0,y.jsx)(p,{rings:C,size:100,strokeWidth:8,layout:"horizontal"})]}),(0,y.jsx)(w,{selectedPeriod:t,onPeriodChange:o}),(0,y.jsx)(b,{data:v,title:"Gut Health Trend",subtitle:"Your overall gut health score over time",color:m.J.primary}),(0,y.jsx)(A,{charts:D,height:180}),(0,y.jsx)(j,{data:f.foodTrends,maxItems:8,showChart:!0,showInsights:!0}),(0,y.jsxs)(s.A,{style:[I.section,{backgroundColor:e.surface}],children:[(0,y.jsx)(l.A,{style:[I.sectionTitle,{color:e.text}],children:"Weekly Insights"}),(0,y.jsxs)(s.A,{style:I.insightsGrid,children:[(0,y.jsxs)(s.A,{style:[I.insightCard,{backgroundColor:e.background}],children:[(0,y.jsx)(l.A,{style:[I.insightNumber,{color:m.J.safe}],children:"+12%"}),(0,y.jsx)(l.A,{style:[I.insightLabel,{color:e.textSecondary}],children:"Improvement"})]}),(0,y.jsxs)(s.A,{style:[I.insightCard,{backgroundColor:e.background}],children:[(0,y.jsx)(l.A,{style:[I.insightNumber,{color:m.J.primary}],children:"7"}),(0,y.jsx)(l.A,{style:[I.insightLabel,{color:e.textSecondary}],children:"Day Streak"})]}),(0,y.jsxs)(s.A,{style:[I.insightCard,{backgroundColor:e.background}],children:[(0,y.jsx)(l.A,{style:[I.insightNumber,{color:m.J.caution}],children:"3"}),(0,y.jsx)(l.A,{style:[I.insightLabel,{color:e.textSecondary}],children:"New Triggers"})]}),(0,y.jsxs)(s.A,{style:[I.insightCard,{backgroundColor:e.background}],children:[(0,y.jsx)(l.A,{style:[I.insightNumber,{color:m.J.primaryLight}],children:"85%"}),(0,y.jsx)(l.A,{style:[I.insightLabel,{color:e.textSecondary}],children:"Accuracy"})]})]})]}),(0,y.jsxs)(s.A,{style:[I.section,{backgroundColor:e.surface}],children:[(0,y.jsx)(l.A,{style:[I.sectionTitle,{color:e.text}],children:"Recommendations"}),v.recommendations.map((t,o)=>(0,y.jsxs)(s.A,{style:I.recommendationItem,children:[(0,y.jsx)(l.A,{style:[I.recommendationBullet,{color:m.J.primary}],children:"\u2022"}),(0,y.jsx)(l.A,{style:[I.recommendationText,{color:e.text}],children:t})]},o))]}),(0,y.jsx)(s.A,{style:I.bottomSpacing})]})]})}}}]);
//# sourceMappingURL=2.0472c5d2.chunk.js.map