# Database Environment Configuration
# Copyright (c) 2024 Benjamin [Last Name]. All rights reserved.
# 
# Copy this file to .env.local and configure for your environment
# NEVER commit .env.local or any file containing real secrets

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Type (postgresql, mysql, sqlite)
DB_TYPE=postgresql

# Database Connection
DB_HOST=localhost
DB_PORT=5432
DB_NAME=gutsafe
DB_USER=gutsafe
DB_PASSWORD=your_secure_password_here

# SSL Configuration
DB_SSL=false

# Connection Pool Settings
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_ACQUIRE_TIMEOUT=60000
DB_POOL_CREATE_TIMEOUT=30000
DB_POOL_DESTROY_TIMEOUT=5000
DB_POOL_IDLE_TIMEOUT=600000

# Database Features
DB_LOGGING=false
DB_SYNCHRONIZE=false

# =============================================================================
# ADMIN DATABASE ACCESS (for setup scripts)
# =============================================================================

# Admin user for database creation and user management
DB_ADMIN_USER=postgres
DB_ADMIN_PASSWORD=your_admin_password_here

# =============================================================================
# REDIS CONFIGURATION (for caching)
# =============================================================================

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_TTL=3600

# =============================================================================
# DATABASE MONITORING
# =============================================================================

# Enable query logging
DB_QUERY_LOGGING=false

# Enable slow query logging (milliseconds)
DB_SLOW_QUERY_THRESHOLD=1000

# Enable connection monitoring
DB_CONNECTION_MONITORING=true

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup settings
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
DB_BACKUP_RETENTION_DAYS=30
DB_BACKUP_PATH=./backups

# =============================================================================
# REPLICATION CONFIGURATION
# =============================================================================

# Read replica settings
DB_READ_REPLICA_HOST=
DB_READ_REPLICA_PORT=5432
DB_READ_REPLICA_USER=gutsafe_read
DB_READ_REPLICA_PASSWORD=your_read_password_here

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# PostgreSQL specific settings
DB_SHARED_BUFFERS=256MB
DB_EFFECTIVE_CACHE_SIZE=1GB
DB_WORK_MEM=4MB
DB_MAINTENANCE_WORK_MEM=64MB

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# Encryption settings
DB_ENCRYPTION_KEY=your_32_character_encryption_key_here

# Access control
DB_ALLOWED_IPS=127.0.0.1,::1

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Development database
DB_DEV_NAME=gutsafe_dev
DB_DEV_USER=gutsafe_dev
DB_DEV_PASSWORD=dev_password

# Test database
DB_TEST_NAME=gutsafe_test
DB_TEST_USER=gutsafe_test
DB_TEST_PASSWORD=test_password

# =============================================================================
# PRODUCTION SETTINGS
# =============================================================================

# Production database
DB_PROD_NAME=gutsafe_prod
DB_PROD_USER=gutsafe_prod
DB_PROD_PASSWORD=your_secure_production_password_here

# Production SSL
DB_PROD_SSL=true
DB_PROD_SSL_CERT=path/to/cert.pem
DB_PROD_SSL_KEY=path/to/key.pem
DB_PROD_SSL_CA=path/to/ca.pem

# =============================================================================
# CLOUD DATABASE SETTINGS
# =============================================================================

# AWS RDS
DB_AWS_REGION=us-east-1
DB_AWS_INSTANCE_CLASS=db.t3.micro

# Google Cloud SQL
DB_GCP_PROJECT_ID=your-project-id
DB_GCP_INSTANCE_ID=gutsafe-db

# Azure Database
DB_AZURE_SERVER=gutsafe-server
DB_AZURE_RESOURCE_GROUP=gutsafe-rg

# =============================================================================
# MONITORING AND ALERTING
# =============================================================================

# Database monitoring
DB_MONITORING_ENABLED=true
DB_MONITORING_URL=your_monitoring_url_here
DB_MONITORING_KEY=your_monitoring_key_here

# Alert thresholds
DB_ALERT_CONNECTION_USAGE=80
DB_ALERT_QUERY_TIME=5000
DB_ALERT_DISK_USAGE=85

# =============================================================================
# WARNING
# =============================================================================
# 
# ⚠️  SECURITY WARNING ⚠️
# 
# This file contains sensitive database configuration information.
# 
# 1. NEVER commit this file or any .env files to version control
# 2. Use strong, unique passwords for all database users
# 3. Enable SSL in production environments
# 4. Regularly rotate database passwords
# 5. Use environment-specific configurations
# 6. Monitor database access and usage
# 
# For production deployments, use a secure secret management system
# such as AWS Secrets Manager, Azure Key Vault, or HashiCorp Vault.
